# Telegram Bot TG05_APIs_Bot (ДЗ к уроку TG05)

## Описание
Этот проект представляет собой Telegram-бота с именем **G05_APIs_Bot**, который предоставляет пользователям различные функции, такие как получение шуток, изображений котов и собак, фактов о Чаке Норрисе, изображений NASA и текущей погоды в выбранном городе.
Бот предоставляет пользователю несколько команд, которые выполняют различные функции. 

1. **/joke**: 
   - Эта команда отправляет случайное изображение кота.
   - Команда `send_joke` вызывает функцию `get_random_joke()` для получения случайной шутки и ее перевода на русский язык.

2. **/cat**: 
   - Эта команда отправляет случайное изображение кота.
   - Команда `send_cat` вызывает функцию `get_random_cat()` для получения URL изображения собаки и отправляет его.

3. **/nasa**: 
   - Используется для получения случайного космического изображения от NASA. 
   - Команда `send_nasa_image` асинхронно вызывает функцию `get_random_nasa_image()`, чтобы получить URL изображения и его заголовок.
   - Затем отправляет изображение пользователю с помощью метода `answer_photo`.

4. **/dog**: 
   - Эта команда отправляет случайное изображение собаки.
   - Команда `send_dog` вызывает функцию `get_random_dog()` для получения URL изображения собаки и отправляет его.

5. **/chuck_norris**: 
   - Используется для получения случайного факта о Чаке Норрисе и его перевода на русский язык.
   - Команда `send_chuck_norris_fact` получает факт с помощью функции `get_chuck_norris_fact()` и переводит его на русский язык с помощью `translate_to_russian()`, после чего отправляет пользователю.

6. **/weather**: 
   - Команда для получения информации о погоде в указанном городе.
   - Используется состояние (`WeatherStates.waiting_for_city_name`), чтобы сначала попросить пользователя ввести название города, а затем обработать этот ввод.

6. **Регистрация и запуск бота**:
   - Используется диспетчер `dp` для регистрации команд и управления состояниями.
   - Функция `main()` запускает бота в режиме опроса с помощью `dp.start_polling(bot)`.


## Установка

1. **Клонирование репозитория:**

   ```bash
   git clone https://github.com/yourusername/yourrepository.git
   cd yourrepository
   ```

2. **Создание виртуального окружения и установка зависимостей:**

   ```bash
   python -m venv venv
   source venv/bin/activate  # Для Windows используйте venv\Scripts\activate
   pip install -r requirements.txt
   ```

3. **Настройка переменных окружения:**

   Создайте файл `.env` в корне проекта и добавьте в него ваши API ключи:

   ```
   TELEGRAM_TOKEN=ваш_токен_телеграм_бота
   THE_CAT_API_KEY=ваш_ключ_для_thecatapi
   NASA_API_KEY=ваш_ключ_для_NASA_API
   OPENWEATHER_API_KEY=ваш_ключ_для_OpenWeather
   ```

## Использование

1. **Запуск бота:**

   ```bash
   python main_TG05.py
   ```

   После этого бот будет запущен и готов к использованию.

2. **Команды бота:**

   - `/help` - Помощь по использованию бота
   - `/joke` - Получить произвольную шутку
   - `/cat` - Получить произвольное фото кота
   - `/nasa` - Получить произвольное изображение из космоса
   - `/dog` - Получить произвольное фото собаки
   - `/chuck_norris` - Получить факт о Чаке Норрисе
   - `/weather` - Получить погоду в выбранном городе

## Логирование

Логи работы бота сохраняются в файл `bot.log`, а также выводятся в консоль. Это может помочь в диагностике и отладке работы бота.

## Зависимости

- `aiogram` - Для работы с Telegram API
- `aiohttp` - Для выполнения асинхронных HTTP-запросов
- `deep_translator` - Для перевода текста
- `requests` - Для выполнения HTTP-запросов (используется в некоторых случаях)
- `cachetools` - Для реализации кэша
- `python-dotenv` - Для загрузки переменных окружения из файла `.env`

## Вклад в проект

Если вы хотите внести вклад в проект, пожалуйста, создайте форк репозитория и отправьте pull request с вашими изменениями.

## Контакты

Если у вас есть вопросы или предложения, пожалуйста, свяжитесь с разработчиком по адресу электронной почты: [6202818@gmail.com](mailto:6202818@gmail.com).

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности можно найти в файле LICENSE.
